!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("vue-pullx",[],e):"object"==typeof exports?exports["vue-pullx"]=e():t["vue-pullx"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=1)}([function(t,e,o){"use strict";var n=o(4);e.a={name:"vue-pullx",props:{scrollLoad:{type:Boolean,default:!1},firstLoad:{type:Boolean,default:!1},emptyStop:{type:Boolean,default:!1},disableUp:{type:Boolean,default:!1},disableDown:{type:Boolean,default:!1},emptyDataCloseTime:{type:Number,default:2e3},textConfig:{type:Object,default:function(){return{upDataText:"没有新的数据",downDataText:"没有更多数据了",upText:"下拉刷新...",downText:"上拉加载更多...",upLoadText:"刷新中...",downLoadText:"加载中...",upReleaseText:"释放刷新...",downReleaseText:"释放刷新..."}}}},mounted:function(){var t=this;this.pullx=new n.a({emptyStop:this.emptyStop,container:this.$refs.pullx,textConfig:this.textConfig,emptyDataCloseTime:this.emptyDataCloseTime,down:{enable:!this.disableDown,callback:function(e){t.$emit("on-down-pull",e)}},up:{isScrollLoad:this.scrollLoad,isInitLoad:this.firstLoad,enable:!this.disableUp,callback:function(e){t.$emit("on-up-pull",e)}}})}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(2);"undefined"!=typeof window&&window.Vue&&window.Vue.component("vue-pullx",n.a),n.a.install=function(t){t.component("vue-pullx",n.a)},e.default=n.a},function(t,e,o){"use strict";var n=o(0),a=o(5),l=o(3),i=l(n.a,a.a,!1,null,null,null);e.a=i.exports},function(t,e){t.exports=function(t,e,o,n,a,l){var i,r=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(i=t,r=t.default);var c="function"==typeof r?r.options:r;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),o&&(c.functional=!0),a&&(c._scopeId=a);var d;if(l?(d=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},c._ssrRegister=d):n&&(d=n),d){var u=c.functional,p=u?c.render:c.beforeCreate;u?(c._injectStyles=d,c.render=function(t,e){return d.call(e),p(t,e)}):c.beforeCreate=p?[].concat(p,d):[d]}return{esModule:i,exports:r,options:c}}},function(t,e,o){"use strict";function n(t,e,o){e.addEventListener(t,function(t){o(t)})}function a(){var t='.pull-load-container {\tdisplay: -webkit-box;\tdisplay: -ms-flexbox;\tdisplay: flex;\t-webkit-box-pack: center;\t-ms-flex-pack: center;\tjustify-content: center;\t-webkit-box-align: center;\t-ms-flex-align: center;\talign-items: center;\tfont-size: 14px;\toverflow: hidden}.pull-load-down, .pull-load-up, .pull-load-empty-data {\tbackground:transparent;\tline-height:40px;\tpadding:0px 10px;\tfont-weight:bold;\tfont-size:14px;\tcolor:#888;}.pull-load-down .pull-load-down-icon, .pull-load-up .pull-load-up-icon  {\tdisplay: inline-block;\tvertical-align: middle;\tmargin-bottom: 5px;\twidth: 20px;\theight: 20px;\tbackground:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAACgCAMAAACsXRuGAAAAt1BMVEX////FxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcU7SVrkAAAAPHRSTlMAAPONxyCMRvCjM2n59gzeD/xssVo52Akwh6sDpeTbckJLZroqfhUnRernVxifG9XDgb2ZzzxjeLThEmBcLCjmAAACDklEQVR4Xu2Y124yQQyFM9sh9BJafgik956/7fs/V4RCwiITbMdjCSGfKy4On7THnuLZ8yGTyRWUr1W54NgNIC4Dbm+VrQ+tbQxoQAMa0IAGnO4vtR44WBquCcBuJadrSslwQucNaBm2qbyHEQ3YqNN4l3fUKpdpMV7Q26ZF4T3S+5AU49OIA8RjvLpxDCAeY/PIcYB4jKf8tTzcxDt2fGBt/D3v19kPgK5fRQLkAt0MCZANdIdIgGxg7WBjgHygO1kTY/NVMla8QeBvJwHCGP84CRDG+PefBAhjrHTlo9n/InDiY9a7XfLazgewd//Jqze8AN15sAiw7Gu87XwAW/7m5ec5b+j8AXsveT6uSYAwxmrf7xNBZ+aYQJPJZDLh+20aRlkWhen8twdgnCyO0SCJfQDjUv6lUuwBmOQFJXJgGhSBQSoGhvmKQnFNo1VgBD3MmmarwAx6WDWFQOhh1RR+MvSwagqLwqw7/ndW3UkfCD2bhJcAephAvJGYn4y3OrMouIfZNriH19i4h7v0cI9ww4ce4ZEEPTt6/uJ+UdS4H28G1C9qV9yPLyjUL1vyuB/dlLh+dNtE/dpA+SdrF0XeNsqNLV96+puDfPvaaukfUvJjVP+gl19F9C9L8uuc/oVTfiXWv7TLxwr9wUc+msmHR/3xVj6A6z8RSBej/jMLp+76T1X6j2m7eP6aTO9STHV4CXebKAAAAABJRU5ErkJggg==") 0 0 no-repeat;\t-webkit-background-size:cover; background-size:cover;\t-webkit-transition-property:-webkit-transform;\t-webkit-transition-duration:250ms;}.pull-load-down .pull-load-down-icon {\t-webkit-transform:rotate(0deg) translateZ(0);}.pull-load-up .pull-load-up-icon  {\t-webkit-transform:rotate(-180deg) translateZ(0);}.pull-load-down.pull-load-flip .pull-load-down-icon {\tfont-size: 14px;\t-webkit-transform:rotate(-180deg) translateZ(0);}.pull-load-up.pull-load-flip .pull-load-up-icon {\tfont-size: 14px;\t-webkit-transform:rotate(0deg) translateZ(0);}.pull-load-down.pull-load-loading .pull-load-down-icon, .pull-load-up.pull-load-loading .pull-load-up-icon {\tbackground-position:0 100%;\t-webkit-transform:rotate(0deg) translateZ(0);\t-webkit-transition-duration:0ms;\t-webkit-animation-name:loading;\t-webkit-animation-duration:2s;\t-webkit-animation-iteration-count:infinite;\t-webkit-animation-timing-function:linear;}@-webkit-keyframes loading {\tfrom { -webkit-transform:rotate(0deg) translateZ(0); }\tto { -webkit-transform:rotate(360deg) translateZ(0); }}',e=r.getElementById("__pull_load_css");e&&e.parentNode&&e.parentNode.removeChild(e),e=r.createElement("style"),e.id="__pull_load_css",e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.innerHTML=t,r.getElementsByTagName("head")[0].appendChild(e)}function l(t){this.isTouchWebkit="ontouchstart"in i&&"WebKitCSSMatrix"in i,this.container=t.container,this.scrollBar=t.scrollBar,this.emptyStop=t.emptyStop,this.emptyDataCloseTime=t.emptyDataCloseTime,this.touchstart="touchstart",this.touchmove="touchmove",this.touchend="touchend",this.isTouchWebkit||(this.touchstart="mousedown",this.touchmove="mousemove",this.touchend="mouseup"),this.down=Object.assign({},{el:null,distance:50,container:'<div class="pull-load-container"></div>',init:'<div class="pull-load-down"><span><span class="pull-load-down-icon"></span>'+(t.textConfig.upText||"下拉刷新...")+"</span></div>",loading:'<div class="pull-load-down pull-load-loading"><span class="pull-load-down-icon"></span>'+(t.textConfig.upLoadText||"刷新中...")+"</span></div>",release:'<div class="pull-load-down pull-load-flip"><span><span class="pull-load-down-icon"></span>'+(t.textConfig.upReleaseText||"释放刷新...")+"</span></div>",emptyData:'<div class="pull-load-empty-data">'+(t.textConfig.upDataText||"没有更多数据了")+"</div>",id:"_____pull_down____",enable:!0,callback:null},t.down?t.down:{}),this.up=Object.assign({},{el:null,distance:50,container:'<div class="pull-load-container"></div>',init:'<div class="pull-load-up"><span><span class="pull-load-up-icon"></span>'+(t.textConfig.downText||"上拉加载更多...")+"</span></div>",loading:'<div class="pull-load-up pull-load-loading"><span class="pull-load-up-icon"></span>'+(t.textConfig.downLoadText||"加载中...")+"</span></div>",release:'<div class="pull-load-up pull-load-flip"><span><span class="pull-load-up-icon"></span>'+(t.textConfig.downReleaseText||"释放加载...")+"</span></div>",emptyData:'<div class="pull-load-empty-data">'+(t.textConfig.downDataText||"没有更多数据了")+"</div>",id:"_____pull_up____",enable:!0,isScrollLoad:!1,isInitLoad:!1,callback:null},t.up?t.up:{}),this.baseRefreshContainer='<div class="pull-load-container"></div>',this.startY=0,this.moveY=0,this.elStartY=-1,this.startScrollTop=0,this.bottomDiff=0,this.topDiff=0,this.type="",this.canRefresh=!1,this.canLoadMore=!1,this.isTouchStart=!1,this.isLoading=!1,this.isEmptyData=!1,this.hasInsertDom=!1,this.scrollLoadHasInsertDom=!1,a(),this.init()}var i=window,r=document;l.prototype={constructor:l,init:function(){var t=this,e=t.container;if(e){if(t.scrollBar||(t.scrollBar=e),t.up.isInitLoad?(t.createDiv(t.up,!0,!0),t.upLoadMore(!0)):t.up.isScrollLoad&&t.createDiv(t.up,!0,!0),n(t.touchstart,e,function(){t.touch(event)}),n(t.touchmove,e,function(){t.touch(event)}),n(t.touchend,e,function(){t.touch(event)}),n("scroll","body"===t.scrollBar.tagName.toLowerCase()?i:t.scrollBar,function(){t.scroll(event)}),!t.isTouchWebkit){var o="body"===t.scrollBar.tagName.toLowerCase()?document:t.scrollBar;o.onselectstart=function(){return!1},o.onselect=function(){r.selection.empty()},r.addEventListener(t.touchend,function(){t.touch(event)},!1)}}else console.log("error")},scroll:function(t,e,o){var n=this,a=n.up;if(!a.enable)return!1;var l=n.container,i=n.scrollBar;if(a.isScrollLoad&&!n.isLoading){var r=n.elPos(i).bottom,s=n.elPos(l).bottom;n.bottomDiff=r-s;var c=0;if(c="body"===i.tagName.toLowerCase()?n.getScrollHeight()-(n.getScrollTop()+n.getWindowHeight()):i.scrollHeight-(i.scrollTop+i.clientHeight),c-=n.bottomDiff,a.init&&c-a.distance<0&&!n.scrollLoadHasInsertDom&&n.createDiv(a,!0),e&&!n.isTouchWebkit){var d=Math.abs(o);i.scrollTop=n.startScrollTop+d}a.el&&c<=0&&n.upLoadMore()}},touch:function(t){var e=this,o=e.scrollBar;switch(t=t||i.event,t.stopPropagation(),t.type){case e.touchstart:e.startY=e.pos(t).y,e.startScrollTop="body"===o.tagName.toLowerCase()?e.getScrollTop():o.scrollTop,e.type="",e.isTouchStart=!0,e.isLoading||(e.isLoading=!1,e.canRefresh=!1,e.canLoadMore=!1,e.hasInsertDom=!1,e.elStartY=-1);break;case e.touchmove:if(e.isTouchStart){if(!e.isTouchWebkit&&0===t.buttons)return!1;e.moveY=e.pos(t).y;var n=e.moveY-e.startY;if(e.type){if(!e.isLoading){var a=e.moveY-e.startY,l="body"===o.tagName.toLowerCase()?e.getScrollTop():o.scrollTop;if("up"===e.type&&a>0||"down"===e.type&&a<0)return e.startY=e.pos(t).y,e.startScrollTop=l,e.hasInsertDom=!1,e.elStartY=-1,"up"===e.type?(e.type="down",e.up.el&&e.up.el.parentNode&&(e.up.el.parentNode.removeChild(e.up.el),e.up.el=null)):(e.type="up",e.down.el&&e.down.el.parentNode&&(e.down.el.parentNode.removeChild(e.down.el),e.down.el=null)),!1}}else n<0?e.type="up":n>0&&(e.type="down");switch(e.type){case"up":e.up.isScrollLoad?e.scroll(t,!0,n):e.upAction(t,n);break;case"down":e.downAction(t,n)}}break;case e.touchend:e.end(e.type,e.canRefresh,e.canLoadMore)}},end:function(t,e,o){var n=this;if(n.isTouchStart=!1,e)n._end(n.down,!1,o,e);else if(o)n._end(n.up,!0,o,e);else if(!n.isLoading)switch(t){case"up":n.back(n.up,!0);break;case"down":n.back(n.down,!1)}},_end:function(t,e,o,n){var a=this;if(e&&t.isScrollLoad)return!1;e&&o||!e&&n?(a.setCan(e,!1),a.setHeight(t.el,t.distance),a.transition(t.el,.5),t.el&&(t.el.innerHTML=t.loading),a.isLoading=!0,t.callback&&t.callback(function(o){a.isEmptyData=o,a.back(t,e)})):a.back(t,e)},back:function(t,e){var o=this;if(e){if(t.isScrollLoad)return!1}else;if(t.el){var a=0;o.isEmptyData?(t.el.innerHTML=t.emptyData,a=o.emptyDataCloseTime):t.el.innerHTML=t.init,setTimeout(function(){o.setHeight(t.el,0),o.transition(t.el,.5),n("webkitTransitionEnd",t.el,function(t){o.transitionEnd(t.target,e)}),n("transitionend",t.el,function(t){o.transitionEnd(t.target,e)})},a)}},upAction:function(t,e){var o=this,n=o.container,a=o.scrollBar,l=o.up;if(!l.enable||!l.init)return!1;var i="body"===a.tagName.toLowerCase()?o.getScrollTop():a.scrollTop,r=Math.abs(e),s=o.elPos(a).bottom,c=o.elPos(n).bottom;o.bottomDiff=s-c;var d=0;if(d="body"===a.tagName.toLowerCase()?o.getScrollHeight()-(i+o.getWindowHeight()):a.scrollHeight-(i+a.clientHeight),e>0&&0===i)return!1;if(o.isLoading)return a.scrollTop=r+o.startScrollTop,!1;d-=o.bottomDiff,l.init&&d-l.distance<0&&!o.hasInsertDom&&o.createDiv(l,!0);var u=Math.abs(l.distance);if(l.el){d<5&&o.elStartY<0&&(o.elStartY=o.pos(t).y);var p=Math.abs(o.pos(t).y-o.elStartY);(o.elStartY<0||o.pos(t).y>o.elStartY)&&(p=0),t.cancelable&&t.preventDefault();var f=o.updateElInfo(l,!0,p,u);l.el.innerHTML=f.innerHtml,!o.isScrollLoad&&0===a.scrollTop&&f.offsetY>=l.distance&&(f.offsetY=l.distance),o.setHeight(l.el,f.offsetY),a.scrollTop=r+o.startScrollTop}else o.isTouchWebkit||(a.scrollTop=r+o.startScrollTop)},downAction:function(t,e){var o=this,n=o.container,a=o.scrollBar,l=o.down;if(!l.enable||!l.init)return!1;var i="body"===a.tagName.toLowerCase()?o.getScrollTop():a.scrollTop,r=o.elPos(a).top,s=o.elPos(n).top;o.topDiff=s-r;var c=i-o.topDiff,d=Math.abs(e);if(c>0)return o.isTouchWebkit||(a.scrollTop=o.startScrollTop-d),!1;if(o.isLoading)return a.scrollTop=o.startScrollTop-d,!1;o.hasInsertDom||o.createDiv(l,!1);var u=Math.abs(l.distance);if(l.el){c<=0&&o.elStartY<0&&(o.elStartY=o.pos(t).y);var p=Math.abs(o.pos(t).y-o.elStartY);(o.elStartY<0||o.pos(t).y<o.elStartY)&&(p=0),t.cancelable&&t.preventDefault();var f=o.updateElInfo(l,!1,p,u);l.el.innerHTML=f.innerHtml,o.setHeight(l.el,f.offsetY)}},updateElInfo:function(t,e,o,n){var a=this,l=t.init,i=0;return a.canRefresh=!1,a.canLoadMore=!1,o<=n?(i=o,l=t.init,a.setCan(e,!1)):o>n&&o<=2*n?(i=n+.5*(o-n),l=t.release,a.setCan(e,!0)):(i=n+.5*n+.2*(o-2*n),l=t.release,a.setCan(e,!0)),{innerHtml:l,offsetY:i}},upLoadMore:function(t){var e=this,o=e.up;o.el&&!e.isLoading&&(o.el.innerHTML=o.loading,e.isLoading=!0,o.callback&&o.callback(function(n){e.isLoading=!1,e.isEmptyData=n,o.el&&(o.el.innerHTML=o.init,e.emptyStop&&n?(o.el.innerHTML=o.emptyData,o.enable=!1):o.el.innerHTML=o.init),t&&!o.isScrollLoad&&e.back(o,!0)}))},createDiv:function(t,e,o){var a=this,l=a.container;if(t.el=null,t.init){o?a.scrollLoadHasInsertDom=!0:a.hasInsertDom=!0;var i=r.createElement("div");t.container?i.innerHTML=t.container:i.innerHTML=a.baseRefreshContainer,t.el=i.childNodes[0],t.el.id||(t.el.id=t.id),t.el.innerHTML=t.init,t.el.id+=a.randomString(6),t.id=t.el.id;var s=r.getElementById(t.id);s&&s.parentNode&&s.parentNode.removeChild(s),a.setHeight(t.el,e?t.distance:0),e?(l.appendChild(t.el),o&&n("click",t.el,function(){!a.isLoading&&t.enable&&a.upLoadMore()})):a.prependChild(l,t.el)}},setCan:function(t,e){var o=this;t?o.canLoadMore=e:o.canRefresh=e},pos:function(t){if(this.isTouchWebkit)return t.touches||(t.touches=t.originalEvent.touches),{x:t.touches[0].clientX,y:t.touches[0].clientY};t=t||i.event;var e=r.documentElement;return{x:t.clientX+e.scrollLeft-e.clientLeft,y:t.clientY+e.scrollTop-e.clientTop}},elPos:function(t){var e=t.getBoundingClientRect(),o=document.documentElement.clientTop,n=document.documentElement.clientLeft;return{top:e.top-o,bottom:e.bottom-o,left:e.left-n,right:e.right-n}},getScrollTop:function(){var t=0,e=0;return document.body&&(t=document.body.scrollTop),document.documentElement&&(e=document.documentElement.scrollTop),t-e>0?t:e},getScrollHeight:function(){var t=0,e=0;return document.body&&(t=document.body.scrollHeight),document.documentElement&&(e=document.documentElement.scrollHeight),t-e>0?t:e},getWindowHeight:function(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight},setHeight:function(t,e){t&&(t.style.height=e+"px")},transition:function(t,e){t&&(t.style.transition="transform "+e+"s ease-out",t.style.webkitTransition="-webkit-transform "+e+"s ease-out",t.style.transitionProperty="height",t.style.webkitTransitionProperty="height")},transitionEnd:function(t,e){var o=this;o.isLoading=!1,t.parentNode&&t.parentNode.removeChild(t),e?o.up.el=null:o.down.el=null},randomString:function(t){t=t||32;for(var e="ABCDEFGHIJKLMNOPQRSTVUWXYZabcdefghijklmnopqrstvuwxyz0123456789",o=e.length,n="",a=0;a<t;a++)n+=e.charAt(Math.floor(Math.random()*o));return n},prependChild:function(t,e){t.hasChildNodes()?t.insertBefore(e,t.firstChild):t.appendChild(e)}},e.a=l},function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"pullx"},[t._t("default")],2)},a=[],l={render:n,staticRenderFns:a};e.a=l}])});